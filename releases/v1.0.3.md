# Release v1.0.3 - Bug-Fixes und Deinstallation

**Veröffentlichungsdatum:** 24. Oktober 2025

## 🐛 Bug-Fixes

Diese Version behebt kritische Fehler in der Paket-Erkennung und verbessert die Ausgabeformatierung.

### Paket-Erkennung für deutsche apt-Ausgabe

**Problem:** Die Paket-Erkennung funktionierte nicht mit deutscher apt-Ausgabe. Trotz erfolgreicher Updates von 6 Paketen zeigte die Zusammenfassung "Keine Pakete wurden aktualisiert".

**Lösung:**
- ✅ Parser unterstützt nun deutsche apt-Ausgabe ("Die folgenden Pakete werden aktualisiert")
- ✅ Extrahiert Paketnamen aus beiden Sprachen (Deutsch/Englisch)
- ✅ Sammelt Versionsinformationen aus "Entpacken von" Zeilen
- ✅ Zeigt korrekte Format: `paketname alte-version → neue-version`

**Technische Details:**
```python
# Erkennt jetzt beide Formate:
"Die folgenden Pakete werden aktualisiert (Upgrade):"
"The following packages will be upgraded:"

# Extrahiert Versionen aus:
"Entpacken von paket:arch (neue) über (alte) ..."
```

### Einheitliche Ausgabe-Formatierung

**Problem:** Die Paketliste wurde mit `print()` ausgegeben, was zu seitlicher Versetzung und inkonsistenter Formatierung führte.

**Lösung:**
- ✅ Paketliste verwendet nun `print_status()` Methode
- ✅ Konsistente blaue Farbgebung für alle Paketeinträge
- ✅ Automatisches Logging in Log-Dateien
- ✅ Keine seitliche Versetzung mehr

## 🗑️ Neue Features

### Deinstallations-Script

Ein vollständiges Deinstallations-Script wurde hinzugefügt:

**Verwendung:**
```bash
sudo ./uninstall.sh
```

**Funktionen:**
- 🔍 **Erkennung:** Findet alle installierten Komponenten
- 🗑️ **Symlink:** Entfernt `/usr/local/bin/raspbian-autoupdater`
- ⏰ **Cronjobs:** Entfernt alle Cronjobs für root und andere Benutzer
- ⚙️ **Systemd:** Prüft und deaktiviert Systemd Timer
- 📝 **Logs:** Optional löschen nach Rückfrage (zeigt Größe an)
- 💬 **Interaktiv:** Bestätigungen vor jeder Aktion
- 📊 **Übersicht:** Zeigt alle zu löschenden Komponenten vor Start

**Beispiel-Ausgabe:**
```
╔══════════════════════════════════════════════════════╗
║   Raspbian Auto-Updater - Deinstallation            ║
║   Version 1.0.3                                      ║
╚══════════════════════════════════════════════════════╝

⚠️  WARNUNG: Dies wird den Raspbian Auto-Updater vollständig entfernen!

Folgendes wird entfernt:
  - Symlink: /usr/local/bin/raspbian-autoupdater
  - Alle Cronjobs für raspbian-autoupdater

Folgendes bleibt erhalten (optional zu löschen):
  - Log-Verzeichnis: /var/log/raspbian-updater/
  - Quellcode im aktuellen Verzeichnis
```

## 📝 Verbesserte Dokumentation

### README.md
- ➕ Abschnitt "Deinstallation" hinzugefügt
- 📋 Beschreibung des Deinstallations-Scripts
- 🔄 Version Badge auf 1.0.3 aktualisiert

## 🔧 Technische Änderungen

### Geänderte Dateien
- `raspbian_autoupdater.py` - Verbesserte `parse_package_list()` Methode
- `README.md` - Deinstallation dokumentiert, Version aktualisiert
- `CHANGELOG.md` - v1.0.3 Einträge hinzugefügt

### Neue Dateien
- `uninstall.sh` - Vollständiges Deinstallations-Script

## 📦 Installation & Update

### Neue Installation
```bash
git clone https://github.com/roimme65/raspbian-updater.git
cd raspbian-updater
sudo ./install.sh
```

### Update von v1.0.2
```bash
cd raspbian-updater
git pull origin main
# Keine weiteren Schritte nötig - bestehende Installation bleibt erhalten
```

### Deinstallation
```bash
cd raspbian-updater
sudo ./uninstall.sh
```

## 🐛 Bekannte Probleme

Keine bekannten Probleme in dieser Version.

## 🙏 Danksagungen

Danke an alle, die Feedback zur Paket-Erkennung gegeben haben!

## 📊 Statistik

- **Commits:** 2
- **Geänderte Dateien:** 4
- **Neue Dateien:** 2
- **Hinzugefügte Zeilen:** ~180
- **Gelöschte Zeilen:** ~40

---

**Vollständiger Changelog:** [CHANGELOG.md](../CHANGELOG.md)  
**Download:** [v1.0.3](https://github.com/roimme65/raspbian-updater/releases/tag/v1.0.3)
